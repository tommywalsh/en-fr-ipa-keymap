# en-fr-ipa-keymap
A custom American English keymap with added characters from French and the International Phonetic Alphabet.

## Usage
So long as you never touch the right "alt" or "ctrl" keys, this behaves just like an ordinary US English keyboard.

### French Characters

Of course, most French characters are also English characters, and so for those, you just type them normally.  The right
"alt" key is used to access additional characters that are used in French but not English.

#### Ligatures
The ligatures æ and œ are generated by holding down the right "alt" key while hitting the "a" and "o" keys (respectively).  

#### Accented Letters
Accented letters are generated using a two-step sequence. First, you hold down the right "alt" while hitting the
key corresponding to the accent (see below). Then, you type the key of the letter you want the accent to appear on.

| For this accent | Use right "alt" plus: |
|:---------------:|:---------------------:|
| aigu (é)        | single-quote (')      |
| grave (è)       | backtick (`)          |
| circonflex (ê)  | carat (^)             |
| tréma (ë)       | double-quote (")      |
| cédille (ç)     | comma (,)             |


### IPA characters

This keyboard supports almost all of the IPA characters used in the pronunciation of American English and Parisian French,
with some exceptions mentioned below.

Some of these IPA characters (e.g. f, a) are also English letters, so you can just type them normally.
Some others (e.g. œ, æ) are also French characters, so you generate them using the French rules above.

#### Nasal Vowels

The nasal vowel symbols are accessed using the same two-step sequence as the French accented characters.
First, hold down right "alt" while hitting the tilde key. Next, hit the "a" "e" or "o" key. This will
generate the character ã, ẽ, or õ respectively.

Note that these are technically incorrect. The correct symbols would be ɑ̃, ɛ̃, and ɔ̃. I could not figure out a good way to
generate these symbols, so I decided to settle for ã, ẽ, and õ.  

#### Other IPA Characters

The right "ctrl" key is used to generated the remaining supported IPA characters, according to this table:

| Right "ctrl" plus" | Without shift | With shift |
|:------------------:|:-------------:|:----------:|
|a                   |ɑ              |ɒ           |
|e                   |ə              |ɛ           |
|i                   |ɪ              |            |
|o                   |ø              |ɔ           |
|u                   |ʊ              |ʌ           |
|d                   |ð              |            |
|h                   |ɥ              |            |
|n                   |ŋ              |ɲ           |
|r                   |ʁ              |ɹ           |
|s                   |ʃ              |            |
|t                   |θ              |            |
|z                   |ʒ              |            |

#### Missing characters
This keymap does not support the following English/French IPA characters:

- œ̃: Nasal vowel used in Quebec and some other places (but not in Parisian French)
- ʔ: Glottal stop used in some UK accents, (e.g. in place of /t/ in "butter")


## Code Layout
This was hacked together very quickly, with not much care put into portability.

There are two files of note: the keymap itself, and the XML file that references the keymap.

On my system, running `sh build.sh` will generate files (in the output directory) which may be copied
to replace the ones in the `/usr/share/x11/xkb` directory tree. Your system might be different.
