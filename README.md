# en-fr-ipa-keymap
A custom American English keymap with added characters from French and the International Phonetic Alphabet.

## Usage
So long as you never touch the right "alt" or "ctrl" keys, this behaves just like an ordinary US English keyboard.

### French Characters

Of course, most French characters are also English characters, and so for those, you just type them normally.  The right
"alt" key is used to access additional characters that are used in French but not English.

#### Ligatures and Guillemets
Ligatures and guillemets are generated by holding down the right "alt" key while hitting another key related to the symbol:

|Right "alt" plus this key... | ... generates this character |
|:---------------------------:|:----------------------------:|
|          o                  |              œ               |
|          a                  |              æ               |
|         < (shift-comma)     |              «               |
|         > (shift-period)    |              »               |

#### Accented Letters
Accented letters are generated using a two-step sequence. First, you hold down the right "alt" while hitting the
key corresponding to the accent (see below). Then, you type the key of the letter you want the accent to appear on.

| For this accent | Use right "alt" plus: |
|:---------------:|:---------------------:|
| aigu (é)        | single-quote (')      |
| grave (è)       | backtick (`)          |
| circonflex (ê)  | carat (^)             |
| tréma (ë)       | double-quote (")      |
| cédille (ç)     | comma (,)             |


### IPA characters

This keyboard supports almost all of the IPA characters used in the pronunciation of American English and Parisian French,
with some exceptions mentioned below.

Some of these IPA characters (e.g. f, a) are also English letters, so you can just type them normally.
Some others (e.g. œ, æ) are also French characters, so you generate them using the French rules above.

#### Nasal Vowels

The nasal vowel symbols are accessed using the same two-step sequence as the French accented characters.
First, hold down right "alt" while hitting the tilde key. Next, hit the "a" "e" or "o" key. This will
generate the character ã, ẽ, or õ respectively.

Note that these characters are technically incorrect. The correct symbols would be ɑ̃, ɛ̃, and ɔ̃. I could not figure out a good way to
generate these symbols, so I decided to settle for ã, ẽ, and õ.  

#### Other IPA Characters

The right "ctrl" key is used to generate the remaining supported IPA characters, by hitting the key that most closely
resembles the character (potentially also with the shift key)

#### Table

Here is a full table of the IPA symbols supported by this keymap.

| IPA Symbol  | English Example | French Example | How To Type |
|:-----------:|:---------------:|:--------------:|:-----------:|
|    æ        |    s**a**t      |                | ralt+a      |
|    ɑ        |    sp**a**      |   ç**a**       | rctrl+a     |
|    ã        |                 |  mam**an**     | ralt+~,a    |
|    ɛ        |    s**e**t      |   s**ai**t     | rctrl+shift+e|
|    ə        |    **a**head    |  b**e**soin    | rctrl+e     |
|    e        |                 |  c'**e**st     |   e         |
|    ẽ        |                 |   l**oin**     | ralt+~,e    |
|    i        |    s**ee**       |  **i**c**i**   |   i         |
|    ɪ        |    s**i**t      |                | rctrl+i     |
|    o        |                 |  **au**cune    |   o         |
|    ø        |                 |  c**eu**x      | rctrl+o     |
|    ɔ        |   s**augh**t    |  s**o**rt      | rctlr+shift+o |
|    œ        |                 |  s**œ**ur      | ralt+o      |
|    õ        |                 |  s**on**       | ralt+~,o    |
|    u        |   s**ue**       |  s**ou**s      |   u         |
|    ʊ        |   s**oo**t      |                | rctrl+u     |
|    ʌ        |   s**u**b       |                | rctrl+shift+u |
|    y        |                 |   s**u**       |   y         |
|    b        |  **b**at        | **b**anque     |   b         |
|    d        | **d**ebt        | **d**evoirs    |   d         |
|    ð        | **th**is        |                | rcrtl+d     |
|   dʒ        |  **j**ar        | bu**dg**et     |  d,rcrtl+z  |
|    f        |  dea**f**       | ca**f**ard     |   f         |
|    g        |  **g**ive       | ba**g**ue      |   g         |
|    h        |  **h**ave       |                |   h         |
|    ɥ        |                 | l**u**i        | rctrl+h     |
|    j        | **y**ellow      | ta**ill**e     |   j         |
|    k        |  **c**ar        | **c**ave       |   k         |
|    l        | be**l**ieve     | **l**es        |   l         |
|    m        | **m**arket      | **m**onter     |   m         |
|    n        | **n**eck        | A**nn**e        |   n         |
|    ŋ        | si**ng**        | oi**gn**on     | rctrl+n     |
|    ɲ        |                 | ga**gn**er     | rctrl+shift+n |
|    p        | ri**pp**ed      | **p**âte       |   p         |
|    ʁ        |                 | qua**r**ante   | rctrl+r     |
|    ɹ        | **r**ave        |                | rctrl+shift+r |
|    s        | **s**end        | ba**ss**e       |   s         |
|    ʃ        | **sh**ow        | **ch**amp      | rctrl+s     |
|    t        | me**t**         | bo**tt**e      |   t         |
|   tʃ        | **ch**ur**ch**  | **Tch**èque    | t,rctrl+s   |
|    θ        | **th**in        |                | rctrl+t     |
|    v        | se**v**en       | **v**ert       |   v         |
|    w        | **w**eevil      | **ou**est      |   w         |
|    z        | **z**ebra       | va**s**e       |   z         |
|    ʒ        | trea**s**ure    | **j**e         | rctrl+z     |


#### Missing characters
This keymap does not support the following English/French IPA characters:

- **œ̃** Nasal vowel used in Quebec and some other places (but not in Parisian French)
- **ʔ**: Glottal stop used in some UK accents, (e.g. in place of /t/ in "butter")


## Code Layout
This was hacked together very quickly, with not much care put into portability.

There are two files of note: the keymap itself, and the XML file that references the keymap.

On my system, running `sh build.sh` will generate files (in the output directory) which may be copied
to replace the ones in the `/usr/share/x11/xkb` directory tree. Your system might be different.
